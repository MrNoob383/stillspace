<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>StillSpace Ultimate</title>
<style>
:root{
  --bg:#0b0c1c; --accent:#8be9fd; --accent2:#c77dff;
  --card: rgba(255,255,255,0.1);
}
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif;}
body{
  min-height:100vh; overflow-x:hidden;
  background:#0b0c1c; color:white; position:relative;
}

/* stars + nebula floating particles */
.stars, .particles{
  position:fixed; top:0; left:0; width:100%; height:100%; z-index:-1; overflow:hidden;
}
.star, .particle{
  position:absolute; border-radius:50%; opacity:0.8; animation:twinkle linear infinite;
}
.star{width:2px; height:2px; background:white;}
.particle{width:3px; height:3px; background:rgba(255,255,255,0.15);}
@keyframes twinkle{0%,100%{opacity:0.2;}50%{opacity:1;}}
@keyframes floaty{0%{transform:translateY(0);}100%{transform:translateY(-100vh);}}

/* header */
header{text-align:center;padding:60px 20px;}
header h1{font-size:3rem; letter-spacing:2px;}
header p{opacity:0.7;margin-top:10px;}
nav{display:flex; justify-content:center; gap:10px; margin-top:20px;}
nav button{padding:12px 18px; border-radius:12px; border:none; cursor:pointer; font-weight:600;}
nav .primary{background:linear-gradient(90deg,var(--accent),var(--accent2)); color:black;}
nav .ghost{background:rgba(255,255,255,0.15); color:white;}

/* main */
main{max-width:1000px;margin:auto;padding:20px;}
.cards{display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:25px; margin-top:40px;}
.card{background:var(--card); backdrop-filter:blur(12px); border-radius:20px; padding:25px; transition:0.4s; box-shadow:0 10px 30px rgba(0,0,0,0.35);}
.card:hover{transform:translateY(-6px) scale(1.03);}
.card h3{margin-bottom:15px;}
button.cardBtn{width:100%; padding:14px; border:none; border-radius:12px; font-weight:700; cursor:pointer; background:linear-gradient(90deg,var(--accent),var(--accent2)); color:black;}

/* sections */
section{display:none;}
section.active{display:block;}

/* chat */
.chat{display:flex; flex-direction:column; gap:10px;}
.messages{flex:1; overflow:auto; padding:10px; border-radius:16px; background:rgba(0,0,0,0.25); max-height:400px; scroll-behavior:smooth;}
.msg{max-width:75%; padding:12px 14px; border-radius:14px; margin:6px 0; line-height:1.35; word-wrap:break-word;}
.ai{background:rgba(139,233,253,0.2);}
.user{background:rgba(199,125,255,0.25); margin-left:auto;}
.input{display:flex; gap:10px; margin-top:10px;}
.input input{flex:1; padding:12px; border-radius:12px; border:0;}
.input button{padding:12px 16px; border-radius:12px; border:0; background:linear-gradient(90deg,var(--accent),var(--accent2)); font-weight:700; cursor:pointer;}

/* calm */
.calm{display:grid; place-items:center; gap:20px; padding:40px;}
.circle{
  width:180px; height:180px; border-radius:50%;
  background:radial-gradient(circle at top, var(--accent), var(--accent2));
  animation:breathe 8s ease-in-out infinite;
}
@keyframes breathe{0%,100%{transform:scale(1);}50%{transform:scale(1.15);}}

/* mini game (clicker) */
.clickerBox{margin-top:30px; text-align:center;}
.clickerBtn{padding:12px 20px; border:none; border-radius:12px; background:linear-gradient(90deg,var(--accent2),var(--accent)); cursor:pointer; color:black; font-weight:700; margin-top:10px;}
.score{margin-top:10px; font-size:1.2rem; opacity:0.8;}

/* footer */
footer{text-align:center; padding:20px; opacity:0.6; font-size:0.9rem;}

/* music button */
.music-btn{position:fixed; bottom:20px; right:20px; padding:14px; border-radius:50%; border:none; background:linear-gradient(90deg,var(--accent),var(--accent2)); color:black; cursor:pointer; font-weight:700; z-index:10;}
</style>
</head>
<body>

<div class="stars" id="stars"></div>
<div class="particles" id="particles"></div>

<header>
  <h1>StillSpace Ultimate</h1>
  <p>Relax, talk, breathe, and feel supported.</p>
  <nav>
    <button class="primary" onclick="show('home')">Home</button>
    <button class="ghost" onclick="show('chat')">Talk to AI</button>
    <button class="ghost" onclick="show('calm')">Calm Space</button>
  </nav>
</header>

<main>
<section id="home" class="active">
  <div class="cards">
    <div class="card">
      <h3>ðŸ¤– Talk to AI</h3>
      <p>A gentle listener to validate feelings and reflect.</p>
      <button class="cardBtn" onclick="show('chat')">Start</button>
    </div>
    <div class="card">
      <h3>ðŸŒ¿ Calm Space</h3>
      <p>Breathing exercises & interactive focus game.</p>
      <button class="cardBtn" onclick="show('calm')">Enter</button>
    </div>
    <div class="card">
      <h3>ðŸ’¬ Community</h3>
      <p>(Coming soon) Safe anonymous discussion rooms.</p>
    </div>
  </div>
</section>

<section id="chat">
  <div class="card chat">
    <div class="messages" id="messages">
      <div class="msg ai">Hi. Iâ€™m here to listen. Whatâ€™s on your mind?</div>
    </div>
    <div class="input">
      <input type="text" id="text" placeholder="Type how you feel..." />
      <button onclick="send()">Send</button>
    </div>
    <p style="font-size:0.9rem; opacity:0.7;">This AI is not a therapist or medical professional.</p>
  </div>
</section>

<section id="calm">
  <div class="card calm">
    <div class="circle"></div>
    <p>Breathe in as the circle grows. Exhale as it shrinks.</p>

    <!-- Mini Clicker Game -->
    <div class="clickerBox">
      <button class="clickerBtn" onclick="clicker()">Focus Click</button>
      <div class="score" id="score">Score: 0</div>
    </div>
  </div>
</section>
</main>

<footer>
This site is not a replacement for professional mental health care. If you are in danger, contact local emergency services.
</footer>

<audio id="bgmusic" loop>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
</audio>
<button class="music-btn" id="musicBtn">ðŸŽµ</button>

<script>
// show section
function show(id){
  document.querySelectorAll('section').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

// AI chat logic
const messagesEl=document.getElementById('messages');
function send(){
  const t=document.getElementById('text');
  if(!t.value.trim()) return;
  messagesEl.innerHTML+=`<div class="msg user">${t.value}</div>`;
  const replies=[
    "That sounds really heavy. Iâ€™m glad you told me.",
    "Youâ€™re not weak for feeling this way.",
    "I hear you. Can you tell me more?",
    "We can take this one step at a time.",
    "Itâ€™s okay to feel this way. What part is hardest?"
  ];
  setTimeout(()=>{messagesEl.innerHTML+=`<div class="msg ai">${replies[Math.floor(Math.random()*replies.length)]}</div>`; messagesEl.scrollTop=messagesEl.scrollHeight;},700);
  t.value=''; messagesEl.scrollTop=messagesEl.scrollHeight;
}

// music toggle
const music=document.getElementById('bgmusic');
const btn=document.getElementById('musicBtn');
btn.onclick=()=>{if(music.paused){music.play(); btn.textContent="ðŸ”Š";} else {music.pause(); btn.textContent="ðŸŽµ";}}

// stars
const starsContainer=document.getElementById('stars');
for(let i=0;i<150;i++){
  let s=document.createElement('div'); s.classList.add('star');
  s.style.top=Math.random()*100+'%';
  s.style.left=Math.random()*100+'%';
  s.style.width=(Math.random()*2+1)+'px';
  s.style.height=s.style.width;
  s.style.animationDuration=(Math.random()*3+2)+'s';
  starsContainer.appendChild(s);
}

// floating particles (nebula effect)
const particleContainer=document.getElementById('particles');
for(let i=0;i<80;i++){
  let p=document.createElement('div'); p.classList.add('particle');
  p.style.top=Math.random()*100+'%';
  p.style.left=Math.random()*100+'%';
  p.style.width=(Math.random()*3+2)+'px';
  p.style.height=p.style.width;
  p.style.animationDuration=(Math.random()*10+5)+'s';
  p.style.animationName='floaty';
  particleContainer.appendChild(p);
}

// mini clicker game
let score=0;
function clicker(){
  score+=1;
  document.getElementById('score').textContent='Score: '+score;
}
</script>

</body>
</html>
